{% extends 'base.html' %}

{% block title %}
–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
{% endblock %}

{% block style %}
  .hover-wrapper {
      position: relative;
      cursor: pointer;
    }
    .hover-card {
      position: absolute;
      top: 50%;            /* drop below the cell text  */
      left: 100%;
      z-index: 9;        /* above table borders       */
      display: none;
      width: 240px;
    }
    .hover-wrapper:hover .hover-card,
    .hover-wrapper:focus .hover-card {
      display: block;
    }
{% endblock %}

{% block body %}
<button class="btn btn-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasScrolling" aria-controls="offcanvasScrolling">–§–∏–ª—å—Ç—Ä—ã</button>

<div class="offcanvas offcanvas-start" data-bs-scroll="false" data-bs-backdrop="true" tabindex="-1" id="offcanvasScrolling" aria-labelledby="offcanvasScrollingLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasScrollingLabel">–§–∏–ª—å—Ç—Ä—ã</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <form method="get" class="form">
      {{filter.form.media}}
      {% for item in filter.form %}
      <div class="row mt-3">
        <div class="form-group">
            <label for="{{ item.id_for_label }}"> {{item.label}} </label>
            {{ item }}
        </div>
      </div>
      {% endfor %}
      
      <div class="row mt-3">
          <div class="col-12">
              <button type="submit" class="btn btn-primary">
                üîç –ò—Å–∫–∞—Ç—å
              </button>
              <a href="{% url 'main-product-sync'%}" class="btn btn-success">
                <i class="bi bi-recycle"></i> –û–±–Ω–æ–≤–∏—Ç—å
              </a>
          </div>
      </div>
    </form>
  </div>
</div>
<div class="container-fluid mt-4 mb-5">
  <h1 class="mb-4">–ì–ª–∞–≤–Ω—ã–π –ø—Ä–∞–π—Å</h1>
  
    <!-- –¢–∞–±–ª–∏—Ü–∞ -->
    <div class="col-md-12 mb-5">
      {% load export_url from django_tables2 %}
  
      <div class="table-responsive card p-3 shadow-sm overflow-visible">
        {% load django_tables2 %}
        {% render_table table %}
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block script %}
<script>
  document.body.addEventListener('htmx:configRequest', (evt) => {
    evt.detail.headers['X-CSRFToken'] = '{{ csrf_token }}';
  });
</script>
{% endblock %}
